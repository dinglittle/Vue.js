<!DOCTYPE html>
<html>
<head>
	<title>vuex</title>
	<script src="./vuex.js"></script>
</head>
<body>
	<!-- 
		Vuex 是什么 
			专为 Vue.js 应用程序开发的 状态管理模式, 采用食品式存储管理应用 的所有组件的状态,并以相应 的规则保证状态以一种可预测的方式发生变化.
			Vuex 也集成到官方调试工具 devtools extension, 提供了诸如零配置 time-travel 调试 状态快照导入等高级调试功能.

	 -->
	<div id="app">

		
	</div>
	<script>
		var app = new Vue({
			el:'#app',
			// state  驱动应用的数据源
			data:{
				return{
					count:0
				}
			},
			// view 以声明方式将 state 映射到视图
			template: `
				<div>{{ count }}</div>
			`,
			// actions 响应在 view 上的用户输入导致的状态变化
			methods:{
				increment(){
					this.count ++;
				}
			}
		})
		/**
		 * 当我们的应用 遇到多个组件共享状态时,单向数据流的简洁性很容易被破坏
		 * - 多个视图依赖于同一状态 (一个状态可以控制多个视图)
		 * 		传参的方法对于多层嵌套的组件将会非常繁琐,并且对于兄弟组件间的状态传递无能为力. 对于问题
		 * - 来自不同视图的行为要变更同一状态 (多个视图要更改同一个状态)
		 * 		我们经常会采用父子组件直接引用或者通过事件来变更和同步状态的多份拷贝.
		 */
		
		/**
		 * 将组件的共享状态抽取出来, 以一个全局单例单例管理, 
		 * 这种模式下,我们的组件树构成了一个巨大的 "视图" , 不管在树的哪个位置,任何组件都能获取状态或者触发行为
		 */
		
		/**
		 * 什么情况下我应该使用 Vuex?
		 * 虽然 Vuex 可以帮助我们管理共享状态, 但也附带了更多的概念和框架. 这需要对短期和长期效益进行权衡.
		 *
		 * 如果你不打算开发大型单面应用, 使用 Vuex 可能是繁琐冗余的. 确实是如此 -- 如果, 你需要是一个中大型单页应用, 您可以会考虑如何更好地在组件外部管理状态, Vuex 将会成为自然而然的选择.
		 */
		
		/*
			每一个 Vuex 应用的核心就是 store (仓库). store 基本上就是一个容器,它包含着你的应用中大部分的状态 (state). Vuex 和单纯的全局对象有以下两占不同.

			1. Vuex 的状态是响应式的. 当 Vue 组件从 store 中读取状态的时候, 若 store 中的状态发生变化,那么相应的组件也会相应地得到高效更新.

			2. 你不能直接改变 store 中的状态. 改变 store 中的状态的唯一途径就是显式提交(commit) mutation (突变). 这样使得我们可以方便地跟踪每一个状态的变化,从而让我们能够实现一些工具帮助我们更好地了解我们的应用 .
		 */
	</script>
</body>
</html>